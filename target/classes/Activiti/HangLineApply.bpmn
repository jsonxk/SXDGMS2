<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/test">
  <collaboration id="Collaboration">
    <participant id="SXDG" name="申请/审批/施工流程" processRef="process_pool1"></participant>
  </collaboration>
  <process id="process_pool1" name="process_pool1" isExecutable="true">
    <laneSet id="laneSet_process_pool1">
      <lane id="ProcessStart" name="流程发起阶段">
        <flowNodeRef>StartEvent1</flowNodeRef>
        <flowNodeRef>tjsq</flowNodeRef>
        <flowNodeRef>sqsl</flowNodeRef>
        <flowNodeRef>JudgyDoc</flowNodeRef>
      </lane>
      <lane id="CheckStatus" name="查看审核阶段">
        <flowNodeRef>thsq</flowNodeRef>
        <flowNodeRef>xcck</flowNodeRef>
        <flowNodeRef>ckzlsh</flowNodeRef>
        <flowNodeRef>judgyPass</flowNodeRef>
        <flowNodeRef>LeaderSH</flowNodeRef>
        <flowNodeRef>exclusivegateway1</flowNodeRef>
        <flowNodeRef>qzff</flowNodeRef>
        <flowNodeRef>zg</flowNodeRef>
      </lane>
      <lane id="BuildCheck" name="施工审核阶段">
        <flowNodeRef>sg</flowNodeRef>
        <flowNodeRef>sgys</flowNodeRef>
        <flowNodeRef>exclusivegateway2</flowNodeRef>
        <flowNodeRef>zg</flowNodeRef>
        <flowNodeRef>sqwc</flowNodeRef>
      </lane>
    </laneSet>
    <startEvent id="StartEvent1" name="流程开始"></startEvent>
    <userTask id="tjsq" name="提交申请"></userTask>
    <sequenceFlow id="flow1" sourceRef="StartEvent1" targetRef="tjsq"></sequenceFlow>
    <userTask id="sqsl" name="申请受理"></userTask>
    <sequenceFlow id="flow2" sourceRef="tjsq" targetRef="sqsl"></sequenceFlow>
    <exclusiveGateway id="JudgyDoc" name="资料是否完善"></exclusiveGateway>
    <sequenceFlow id="flow3" sourceRef="sqsl" targetRef="JudgyDoc"></sequenceFlow>
    <sequenceFlow id="flow4" name="资料不合格" sourceRef="JudgyDoc" targetRef="thsq">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==0}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="thsq" name="退回申请"></userTask>
    <sequenceFlow id="flow5" name="资料合格" sourceRef="JudgyDoc" targetRef="xcck">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==1}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="xcck" name="现场查勘"></userTask>
    <sequenceFlow id="flow6" sourceRef="thsq" targetRef="tjsq"></sequenceFlow>
    <userTask id="ckzlsh" name="查勘资料审核"></userTask>
    <sequenceFlow id="flow7" sourceRef="xcck" targetRef="ckzlsh"></sequenceFlow>
    <exclusiveGateway id="judgyPass" name="是否合格"></exclusiveGateway>
    <sequenceFlow id="flow8" sourceRef="ckzlsh" targetRef="judgyPass"></sequenceFlow>
    <userTask id="LeaderSH" name="领导审核"></userTask>
    <sequenceFlow id="flow9" name="合格" sourceRef="judgyPass" targetRef="LeaderSH">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==1}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow10" name="审核不合格" sourceRef="judgyPass" targetRef="thsq">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==0}]]></conditionExpression>
    </sequenceFlow>
    <exclusiveGateway id="exclusivegateway1" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow11" sourceRef="LeaderSH" targetRef="exclusivegateway1"></sequenceFlow>
    <sequenceFlow id="flow12" name="领导审核不合格" sourceRef="exclusivegateway1" targetRef="thsq">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==0}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="qzff" name="标签发放"></userTask>
    <sequenceFlow id="flow13" name="领导审核合格" sourceRef="exclusivegateway1" targetRef="qzff"></sequenceFlow>
    <sequenceFlow id="flow14" sourceRef="qzff" targetRef="sg"></sequenceFlow>
    <userTask id="sg" name="施工"></userTask>
    <userTask id="sgys" name="施工验收"></userTask>
    <sequenceFlow id="flow15" sourceRef="sg" targetRef="sgys"></sequenceFlow>
    <exclusiveGateway id="exclusivegateway2" name="Exclusive Gateway"></exclusiveGateway>
    <sequenceFlow id="flow16" sourceRef="sgys" targetRef="exclusivegateway2"></sequenceFlow>
    <sequenceFlow id="flow17" name="施工不合格" sourceRef="exclusivegateway2" targetRef="zg">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==0}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="sqwc" name="申请完成"></userTask>
    <sequenceFlow id="flow18" name="施工合格" sourceRef="exclusivegateway2" targetRef="sqwc">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${type==1}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="zg" name="整改"></userTask>
    <sequenceFlow id="flow19" sourceRef="zg" targetRef="sg"></sequenceFlow>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_Collaboration">
    <bpmndi:BPMNPlane bpmnElement="Collaboration" id="BPMNPlane_Collaboration">
      <bpmndi:BPMNShape bpmnElement="SXDG" id="BPMNShape_SXDG">
        <omgdc:Bounds height="731.0" width="751.0" x="120.0" y="10.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ProcessStart" id="BPMNShape_ProcessStart">
        <omgdc:Bounds height="243.0" width="731.0" x="140.0" y="10.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="CheckStatus" id="BPMNShape_CheckStatus">
        <omgdc:Bounds height="243.0" width="731.0" x="140.0" y="253.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="BuildCheck" id="BPMNShape_BuildCheck">
        <omgdc:Bounds height="243.0" width="731.0" x="140.0" y="496.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="StartEvent1" id="BPMNShape_StartEvent1">
        <omgdc:Bounds height="35.0" width="35.0" x="170.0" y="100.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="tjsq" id="BPMNShape_tjsq">
        <omgdc:Bounds height="55.0" width="105.0" x="250.0" y="90.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sqsl" id="BPMNShape_sqsl">
        <omgdc:Bounds height="55.0" width="105.0" x="520.0" y="90.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="JudgyDoc" id="BPMNShape_JudgyDoc">
        <omgdc:Bounds height="40.0" width="40.0" x="584.0" y="180.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="thsq" id="BPMNShape_thsq">
        <omgdc:Bounds height="55.0" width="105.0" x="250.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="xcck" id="BPMNShape_xcck">
        <omgdc:Bounds height="55.0" width="105.0" x="380.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ckzlsh" id="BPMNShape_ckzlsh">
        <omgdc:Bounds height="55.0" width="105.0" x="520.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="judgyPass" id="BPMNShape_judgyPass">
        <omgdc:Bounds height="40.0" width="40.0" x="552.0" y="360.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="LeaderSH" id="BPMNShape_LeaderSH">
        <omgdc:Bounds height="55.0" width="105.0" x="690.0" y="283.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway1" id="BPMNShape_exclusivegateway1">
        <omgdc:Bounds height="40.0" width="40.0" x="722.0" y="390.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="qzff" id="BPMNShape_qzff">
        <omgdc:Bounds height="55.0" width="105.0" x="484.0" y="440.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sg" id="BPMNShape_sg">
        <omgdc:Bounds height="55.0" width="105.0" x="240.0" y="540.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sgys" id="BPMNShape_sgys">
        <omgdc:Bounds height="55.0" width="105.0" x="390.0" y="547.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="exclusivegateway2" id="BPMNShape_exclusivegateway2">
        <omgdc:Bounds height="40.0" width="40.0" x="570.0" y="547.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="sqwc" id="BPMNShape_sqwc">
        <omgdc:Bounds height="55.0" width="105.0" x="720.0" y="547.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="zg" id="BPMNShape_zg">
        <omgdc:Bounds height="55.0" width="105.0" x="260.0" y="660.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="205.0" y="117.0"></omgdi:waypoint>
        <omgdi:waypoint x="250.0" y="117.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow2" id="BPMNEdge_flow2">
        <omgdi:waypoint x="355.0" y="117.0"></omgdi:waypoint>
        <omgdi:waypoint x="520.0" y="117.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow3" id="BPMNEdge_flow3">
        <omgdi:waypoint x="572.0" y="145.0"></omgdi:waypoint>
        <omgdi:waypoint x="604.0" y="180.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow4" id="BPMNEdge_flow4">
        <omgdi:waypoint x="584.0" y="200.0"></omgdi:waypoint>
        <omgdi:waypoint x="348.0" y="200.0"></omgdi:waypoint>
        <omgdi:waypoint x="302.0" y="283.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="60.0" x="594.0" y="200.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow5" id="BPMNEdge_flow5">
        <omgdi:waypoint x="584.0" y="200.0"></omgdi:waypoint>
        <omgdi:waypoint x="452.0" y="219.0"></omgdi:waypoint>
        <omgdi:waypoint x="432.0" y="283.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="48.0" x="594.0" y="200.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow6" id="BPMNEdge_flow6">
        <omgdi:waypoint x="302.0" y="283.0"></omgdi:waypoint>
        <omgdi:waypoint x="302.0" y="145.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow7" id="BPMNEdge_flow7">
        <omgdi:waypoint x="485.0" y="310.0"></omgdi:waypoint>
        <omgdi:waypoint x="520.0" y="310.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow8" id="BPMNEdge_flow8">
        <omgdi:waypoint x="572.0" y="338.0"></omgdi:waypoint>
        <omgdi:waypoint x="572.0" y="360.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow9" id="BPMNEdge_flow9">
        <omgdi:waypoint x="572.0" y="360.0"></omgdi:waypoint>
        <omgdi:waypoint x="742.0" y="338.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="24.0" x="730.0" y="587.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow10" id="BPMNEdge_flow10">
        <omgdi:waypoint x="552.0" y="380.0"></omgdi:waypoint>
        <omgdi:waypoint x="350.0" y="379.0"></omgdi:waypoint>
        <omgdi:waypoint x="302.0" y="338.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="60.0" x="537.0" y="607.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow11" id="BPMNEdge_flow11">
        <omgdi:waypoint x="742.0" y="338.0"></omgdi:waypoint>
        <omgdi:waypoint x="742.0" y="390.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow12" id="BPMNEdge_flow12">
        <omgdi:waypoint x="722.0" y="410.0"></omgdi:waypoint>
        <omgdi:waypoint x="302.0" y="409.0"></omgdi:waypoint>
        <omgdi:waypoint x="302.0" y="338.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="84.0" x="651.0" y="640.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow13" id="BPMNEdge_flow13">
        <omgdi:waypoint x="742.0" y="430.0"></omgdi:waypoint>
        <omgdi:waypoint x="741.0" y="470.0"></omgdi:waypoint>
        <omgdi:waypoint x="589.0" y="467.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="72.0" x="752.0" y="430.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow14" id="BPMNEdge_flow14">
        <omgdi:waypoint x="484.0" y="467.0"></omgdi:waypoint>
        <omgdi:waypoint x="292.0" y="467.0"></omgdi:waypoint>
        <omgdi:waypoint x="292.0" y="540.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow15" id="BPMNEdge_flow15">
        <omgdi:waypoint x="345.0" y="567.0"></omgdi:waypoint>
        <omgdi:waypoint x="390.0" y="574.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow16" id="BPMNEdge_flow16">
        <omgdi:waypoint x="495.0" y="574.0"></omgdi:waypoint>
        <omgdi:waypoint x="570.0" y="567.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow17" id="BPMNEdge_flow17">
        <omgdi:waypoint x="590.0" y="587.0"></omgdi:waypoint>
        <omgdi:waypoint x="590.0" y="687.0"></omgdi:waypoint>
        <omgdi:waypoint x="365.0" y="687.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="60.0" x="686.0" y="1177.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow18" id="BPMNEdge_flow18">
        <omgdi:waypoint x="610.0" y="567.0"></omgdi:waypoint>
        <omgdi:waypoint x="720.0" y="574.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="14.0" width="48.0" x="758.0" y="1037.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow19" id="BPMNEdge_flow19">
        <omgdi:waypoint x="312.0" y="660.0"></omgdi:waypoint>
        <omgdi:waypoint x="292.0" y="595.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>